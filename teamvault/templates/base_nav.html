{% load gravatar %}
{% load i18n %}
<header class="mb-3 border-bottom">
    <div class="container">
        <div class="d-flex flex-wrap align-items-center align-content-center justify-content-center justify-content-lg-between">
            <div class="d-flex col-12 col-lg-auto align-items-center my-2 justify-content-center justify-content-lg-start">
                <a class="navbar-brand text-muted-bright" href="{% url 'dashboard' %}">Teamvault</a>
            </div>

            <div class="d-flex col-12 col-lg-auto align-items-center my-2 justify-content-center justify-content-lg-start">
                <div class="btn-group">
                    <a href="{% url 'secrets.secret-add' content_type='password' %}" class="btn btn-dark text-nowrap"><i
                            class="fa fa-plus-circle"></i>&nbsp; {% trans "Add Password" %}</a>
                    <button type="button" class="btn btn-dark dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown" aria-expanded="false">
                        <span class="caret"></span>
                        <span class="visually-hidden">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-dark" role="menu">
                        <li>
                            <a class="dropdown-item" href="{% url 'secrets.secret-add' content_type='cc' %}"><i
                                    class="fa fa-credit-card"></i>&nbsp; {% trans "Add Credit Card" %}</a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="{% url 'secrets.secret-add' content_type='file' %}"><i
                                    class="fa fa-upload"></i>&nbsp; {% trans "Upload File" %}</a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Search button TODO: Collapse to Icon on < md + Maybe replace SVG? -->
            <div class="col-6 col-lg-5 px-3 px-xxl-0">
                <button id="searchbar-toggle" type="button"
                        class="btn btn-light bg-light d-flex w-100 justify-content-between" aria-label="Search"
                        data-bs-toggle="modal"
                        data-bs-target="#search-modal">
                    <span><i class="fa fa-search fa-fw"></i> {% translate "Search" %}</span>
                    <span><kbd>{% translate "CTRL" %}</kbd><kbd>K</kbd></span>
                </button>
            </div>
            <div class="col-12 col-lg-2 col-xl-3">
                <div class="row align-items-center">
                    <div class="col-12 col-lg-6">
                        <div class="dropdown text-center text-lg-end my-2">
                            <a href="#" class="d-inline-block link-light text-decoration-none text-nowrap"
                               data-bs-toggle="dropdown"
                               aria-expanded="false">
                                <i class="fa fa-gear align-middle"></i>&nbsp;
                                <span class="d-inline d-lg-none d-xl-inline">{% trans "Administration" %}</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="adminmenu">
                                <li>
                                    <a class="dropdown-item" href="{% url 'audit.log' %}">
                                        <i class="fa fa-users-line"></i>&nbsp;{% trans "Audit log" %}
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="{% url 'accounts.user-list' %}">
                                        <i class="fa fa-users"></i>&nbsp;{% trans "Users" %}
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6">
                        <div class="dropdown text-center text-xl-end my-2">
                            <a href="#" class="d-inline-block link-light text-decoration-none dropdown-toggle"
                               data-bs-toggle="dropdown"
                               aria-expanded="false">
                                <img src="{% gravatar_url request.user.email 64 %}" alt="avatar"
                                     class="rounded-circle align-middle me-1"
                                     width="30px" height="30px">
                                <span class="d-inline d-lg-none d-xl-inline">{{ request.user.get_full_name }}</span>
                            </a>

                            <ul class="dropdown-menu dropdown-menu-dark">
                                <li>
                                    <a class="dropdown-item" href="{% url 'accounts.user-settings' %}">
                                        <i class="fa fa-sliders fa-fw"></i>&nbsp; {% trans "Settings" %}
                                    </a>
                                </li>
                                <li class="dropdown-divider"></li>
                                <li>
                                    <a class="dropdown-item" href="{% url 'accounts.logout' %}">
                                        <i class="fa fa-arrow-right-from-bracket fa-fw"></i>&nbsp; {% trans "Sign out" %}
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

{% include 'secrets/secret_search.html' %}
